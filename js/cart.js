function insertParam(t,e){t=encodeURI(t),e=encodeURI(e);for(var i,n=document.location.search.substr(1).split("&"),a=n.length;a--;)if(i=n[a].split("="),i[0]==t){i[1]=e,n[a]=i.join("=");break}0>a&&(n[n.length]=[t,e].join("=")),document.location.search=n.join("&")}function number_format(t,e,i,n){t=(t+"").replace(/[^0-9+\-Ee.]/g,"");var a=isFinite(+t)?+t:0,o=isFinite(+e)?Math.abs(e):0,s="undefined"==typeof n?",":n,r="undefined"==typeof i?".":i,l="",c=function(t,e){var i=Math.pow(10,e);return""+(Math.round(t*i)/i).toFixed(e)};return l=(o?c(a,o):""+Math.round(a)).split("."),l[0].length>3&&(l[0]=l[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,s)),(l[1]||"").length<o&&(l[1]=l[1]||"",l[1]+=new Array(o-l[1].length+1).join("0")),l.join(r)}!function(t,e){"use strict";function i(t,e){for(var i=0,n=t.length,a=[];n>i;i++)a[i]=e(t[i],i);return a}function n(t){return t}function a(){}function o(){return!0}function s(t,e){var i;return function(){var n=this,a=arguments,o=function(){i=null,t.apply(n,a)};clearTimeout(i),i=setTimeout(o,e)}}function r(t,o){var s=this,l=e;o=o||{},void 0!==t&&("string"==typeof t?(o.selector=t,t=void 0):"undefined"==typeof t.length&&(o=t,t=void 0)),this.viewportHeight=l.documentElement.clientHeight,this.selector=o.selector||".delayed-image-load",this.className=o.className||"image-replace",this.gif=l.createElement("img"),this.gif.src="data:image/gif;base64,R0lGODlhEAAJAIAAAP///wAAACH5BAEAAAAALAAAAAAQAAkAAAIKhI+py+0Po5yUFQA7",this.gif.className=this.className,this.gif.alt="",this.lazyloadOffset=o.lazyloadOffset||0,this.scrollDelay=o.scrollDelay||250,this.onResize=o.hasOwnProperty("onResize")?o.onResize:!0,this.lazyload=o.hasOwnProperty("lazyload")?o.lazyload:!1,this.scrolled=!1,this.availablePixelRatios=o.availablePixelRatios||[1,2],this.availableWidths=o.availableWidths||c,this.onImagesReplaced=o.onImagesReplaced||a,this.widthsMap={},this.refreshPixelRatio(),this.widthInterpolator=o.widthInterpolator||n,this.gif.removeAttribute("height"),this.gif.removeAttribute("width"),"function"!=typeof this.availableWidths&&("number"==typeof this.availableWidths.length?this.widthsMap=r.createWidthsMap(this.availableWidths,this.widthInterpolator,this.devicePixelRatio):(this.widthsMap=this.availableWidths,this.availableWidths=h(this.availableWidths)),this.availableWidths=this.availableWidths.sort(function(t,e){return t-e})),t?(this.divs=i(t,n),this.selector=null):this.divs=i(l.querySelectorAll(this.selector),n),this.ready(o.onReady),this.changeDivsToEmptyImages(this.divs),setTimeout(function(){s.init()},0)}var l=function(){return e.addEventListener?function(t,e,i){return t.addEventListener(e,i,!1)}:function(t,e,i){return t.attachEvent("on"+e,i)}}(),c=[96,130,165,200,235,270,304,340,375,410,445,485,520,555,590,625,660,695,736],h="function"==typeof Object.keys?Object.keys:function(t){var e,i=[];for(e in t)i.push(e);return i};r.prototype.scrollCheck=function(){var e=this,n=0,a=[];this.scrolled&&(i(this.divs,function(t){e.isPlaceholder(t)&&(++n,e.isThisElementOnScreen(t)&&a.push(t))}),0===n&&t.clearInterval(e.interval),this.changeDivsToEmptyImages(a),this.scrolled=!1)},r.prototype.init=function(){var t=this;this.initialized=!0;var e=o;this.lazyload?(this.registerScrollEvent(),this.scrolled=!0,t.scrollCheck(),e=function(e){return t.isPlaceholder(e)===!1}):this.checkImagesNeedReplacing(this.divs),this.onResize&&this.registerResizeEvent(e),this.onReady()},r.prototype.ready=function(t){this.onReady=t||a},r.prototype.createGif=function(t){if(t.className.match(new RegExp("(^| )"+this.className+"( |$)")))return t;var e=t.getAttribute("data-class"),i=t.getAttribute("data-width"),n=this.gif.cloneNode(!1);return i&&(n.width=i,n.setAttribute("data-width",i)),n.className=(e?e+" ":"")+this.className,n.setAttribute("data-src",t.getAttribute("data-src")),n.setAttribute("alt",t.getAttribute("data-alt")||this.gif.alt),t.parentNode.replaceChild(n,t),n},r.prototype.changeDivsToEmptyImages=function(t){var e=this;i(t,function(i,n){t[n]=e.createGif(i)}),this.initialized&&this.checkImagesNeedReplacing(t)},r.prototype.isPlaceholder=function(t){return t.src===this.gif.src},r.prototype.isThisElementOnScreen=function(t){var e=0,i=r.getPageOffset()+this.lazyloadOffset;if(t.offsetParent)do e+=t.offsetTop;while(t=t.offsetParent);return e<this.viewportHeight+i},r.prototype.checkImagesNeedReplacing=function(t,e){var n=this;e=e||o,this.isResizing||(this.isResizing=!0,this.refreshPixelRatio(),i(t,function(t){e(t)&&n.replaceImagesBasedOnScreenDimensions(t)}),this.isResizing=!1,this.onImagesReplaced(t))},r.prototype.replaceImagesBasedOnScreenDimensions=function(t){var e,i;i=r.getNaturalWidth(t),e="function"==typeof this.availableWidths?this.availableWidths(t):this.determineAppropriateResolution(t),t.width=e,!this.isPlaceholder(t)&&i>=e||(t.src=this.changeImageSrcToUseNewImageDimensions(t.getAttribute("data-src"),e),t.removeAttribute("width"),t.removeAttribute("height"))},r.prototype.determineAppropriateResolution=function(t){return r.getClosestValue(t.getAttribute("data-width")||t.parentNode.clientWidth,this.availableWidths)},r.prototype.refreshPixelRatio=function(){this.devicePixelRatio=r.getClosestValue(r.getPixelRatio(),this.availablePixelRatios)},r.prototype.changeImageSrcToUseNewImageDimensions=function(t,e){return t.replace(/{width}/g,r.transforms.width(e,this.widthsMap)).replace(/{pixel_ratio}/g,r.transforms.pixelRatio(this.devicePixelRatio))},r.getPixelRatio=function(e){return(e||t).devicePixelRatio||1},r.createWidthsMap=function(t,e,i){for(var n={},a=t.length;a--;)n[t[a]]=e(t[a],i);return n},r.transforms={pixelRatio:function(t){return 1===t?"":"-"+t+"x"},width:function(t,e){return e[t]||t}},r.getClosestValue=function(t,e){var i=e.length,n=e[i-1];for(t=parseFloat(t);i--;)t<=e[i]&&(n=e[i]);return n},r.prototype.registerResizeEvent=function(e){var i=this;l(t,"resize",s(function(){i.checkImagesNeedReplacing(i.divs,e)},100))},r.prototype.registerScrollEvent=function(){var i=this;this.scrolled=!1,this.interval=t.setInterval(function(){i.scrollCheck()},i.scrollDelay),l(t,"scroll",function(){i.scrolled=!0}),l(t,"resize",function(){i.viewportHeight=e.documentElement.clientHeight,i.scrolled=!0})},r.getPageOffsetGenerator=function(i){return i?function(){return t.pageYOffset}:function(){return e.documentElement.scrollTop}},r.getNaturalWidth=function(){return"naturalWidth"in new Image?function(t){return t.naturalWidth}:function(t){var i=e.createElement("img");return i.src=t.src,i.width}}(),r.getPageOffset=r.getPageOffsetGenerator(Object.prototype.hasOwnProperty.call(t,"pageYOffset")),r.applyEach=i,r.addEvent=l,r.debounce=s,"object"==typeof module&&"object"==typeof module.exports?module.exports=exports=r:"function"==typeof define&&define.amd?define(function(){return r}):"object"==typeof t&&(t.Imager=r)}(window,document);var toCart=function(t){$.post("/ajax/cart/add/"+parseInt(t),function(t){$("#topCart").html(t),$.fancybox.open($("#modal_alert"))})};$(document).ready(function(){$("input[type=checkbox]").on("change",function(){changeFilter()});new Imager(".lazy-load",{lazyload:!0})});var scrollToAnchor=function(t){var e=$("a[name='"+t+"']");"undefined"==typeof e.offset()&&(e=$("#"+t)),"undefined"!=typeof e.offset()&&$("html, body").animate({scrollTop:e.offset().top-130},300)};$(window).load(function(){$("html,body").scrollTop(0);try{var t=window.location.hash;t=t.slice(t.indexOf("#")+1),scrollToAnchor(t),$(".hash_link").click(function(){var t=$(this).attr("href");t=t.slice(t.indexOf("#")+1),scrollToAnchor(t)}),$(".hash_link2").click(function(){var t=$(this).attr("href");t=t.slice(t.indexOf("#")+1),scrollToAnchor(t)})}catch(e){}});